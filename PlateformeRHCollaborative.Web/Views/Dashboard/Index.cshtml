@{
    ViewData["Title"] = "Tableau de bord RH";
}

<div class="container mt-5">
    <div class="text-center mb-5">
        <h2 class="fw-bold" style="color: #0056b3;"><i class="fas fa-chart-line"></i> Tableau de bord RH</h2>
        <p class="text-muted">Visualisez les statistiques des cong√©s et du t√©l√©travail par p√©riode et par √©quipe.</p>
    </div>

    <div class="row g-4">
        <!-- Cong√©s pris par jour -->
        <div class="col-md-6">
            <div class="card shadow-sm p-4">
                <h5 class="text-center mb-3">üìÖ Cong√©s pris par jour</h5>
                <canvas id="chartCongeJour"></canvas>
            </div>
        </div>

        <!-- Cong√©s pris par mois -->
        <div class="col-md-6">
            <div class="card shadow-sm p-4">
                <h5 class="text-center mb-3">üìÜ Cong√©s pris par mois</h5>
                <canvas id="chartCongeMois"></canvas>
            </div>
        </div>

        <!-- T√©l√©travail par jour -->
        <div class="col-md-6">
            <div class="card shadow-sm p-4">
                <h5 class="text-center mb-3">üè† T√©l√©travail par jour</h5>
                <canvas id="chartTeletravailJour"></canvas>
            </div>
        </div>

        <!-- T√©l√©travail par mois -->
        <div class="col-md-6">
            <div class="card shadow-sm p-4">
                <h5 class="text-center mb-3">üóìÔ∏è T√©l√©travail par mois</h5>
                <canvas id="chartTeletravailMois"></canvas>
            </div>
        </div>

        <!-- Cong√©s par √©quipe -->
        <div class="col-md-6">
            <div class="card shadow-sm p-4">
                <h5 class="text-center mb-3">üë• Cong√©s par √©quipe</h5>
                <canvas id="chartCongeEquipe"></canvas>
            </div>
        </div>

        <!-- T√©l√©travail par √©quipe -->
        <div class="col-md-6">
            <div class="card shadow-sm p-4">
                <h5 class="text-center mb-3">üë©‚Äçüíª T√©l√©travail par √©quipe</h5>
                <canvas id="chartTeletravailEquipe"></canvas>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // Exemple de donn√©es fictives (tu pourras ensuite les remplacer par des vraies donn√©es C#)
        const jours = ['Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam', 'Dim'];
        const mois = ['Jan', 'F√©v', 'Mar', 'Avr', 'Mai', 'Juin', 'Juil', 'Ao√ªt', 'Sep', 'Oct', 'Nov', 'D√©c'];
        const equipes = ['RH', 'IT', 'Finance', 'Marketing'];

        // Fonction g√©n√©rique pour cr√©er un graphique
        function createChart(ctx, label, labels, data, color) {
            return new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: label,
                        data: data,
                        backgroundColor: color,
                        borderRadius: 6
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: { display: false },
                    },
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        }

        // Cr√©ation des graphiques
        createChart(document.getElementById('chartCongeJour'), 'Cong√©s par jour', jours, [2, 1, 0, 3, 2, 0, 0], '#36A2EB');
        createChart(document.getElementById('chartCongeMois'), 'Cong√©s par mois', mois, [5, 8, 4, 9, 6, 7, 3, 5, 2, 4, 8, 6], '#4BC0C0');
        createChart(document.getElementById('chartTeletravailJour'), 'T√©l√©travail par jour', jours, [1, 2, 3, 2, 1, 0, 0], '#9966FF');
        createChart(document.getElementById('chartTeletravailMois'), 'T√©l√©travail par mois', mois, [4, 6, 7, 5, 9, 4, 8, 3, 5, 6, 7, 4], '#FF9F40');
        createChart(document.getElementById('chartCongeEquipe'), 'Cong√©s par √©quipe', equipes, [10, 15, 8, 12], '#FF6384');
        createChart(document.getElementById('chartTeletravailEquipe'), 'T√©l√©travail par √©quipe', equipes, [12, 9, 14, 10], '#36A2EB');
    </script>
}
